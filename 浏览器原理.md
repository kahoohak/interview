## 浏览器安全<br>

1. 什么是 XSS 攻击？<br>
XSS攻击指的是跨站脚本攻击，攻击者通过在网站注入恶意脚本，使之在用户的浏览器上运行，从而盗取用户信息<br>
分为三种类型<br>
存储型：恶意脚本会存储在服务器上，当浏览器请求数据时，脚本从服务器传回并执行<br>
反射型；攻击者将恶意代码藏在url中，诱导用户点击，服务器再将恶意脚本拼接在html中返回<br>
DOM型：与反射型类似，但是是前端来取出和执行恶意脚本<br>

2. 如何防御 XSS 攻击？<br>
可以从浏览器的执行来预防，使用纯前端，不用服务器拼接后返回，另一种是对即将要插入html的代码做好转义<br>
使用CSP，相当于设置一个脚本执行的白名单，可以通过http首部设置CSP，也可以meta标签设置<br>
对一些敏感信息保护，例如cookie设置http-only，防止脚本被获取。也可以使用验证码，防止攻击者假冒用户窃取信息<br>

3. 什么是 CSRF 攻击？<br>
CSRF指的是跨站请求伪造攻击，本质就是利用cookie会在同源请求中携带发送给服务器的特点，实现冒充用户<br>
有三种攻击类型：<br>
get类型，post类型，链接类型<br>

4. 如何防御 CSRF 攻击？<br>
进行同源检测：通过判断请求头中origin和referer是否为允许访问的站点，不是直接拒绝，但是referer是可以被伪造的，同时也会屏蔽搜索引擎链接<br>
使用CSRF token进行验证：服务端给客户端一个随机数token，客户端每次请求时带上token来验证<br>
对cookie进行双重验证：服务端向客户端注入一个cookie，客户端在下次请求时取出cookie拼接在url上，供服务端比对cookie和参数来验证，因为攻击者只能利用cookie，无法获取cookie，缺点是网站如果存在xss漏洞，该方式无效<br>
cookie设置Samesite，限制cookie不能被第三方使用：推荐使用<br>

5. 什么是中间人攻击？如何防范中间人攻击？<br>
指攻击者同时建立与通讯两端的连接，整个会话都被中间人控制<br>
攻击过程：<br>
客户端发起请求，请求被中间人截获<br>
服务端发送公钥<br>
中间人截取公钥，向客户端发送自己创建的假公钥<br>
客户端收到假公钥，并生成加密hash发送给服务器<br>
中间人收到加密hash，解密出秘钥，再用之前的服务器公钥生成加密hash给服务端<br>
服务端解密出秘钥，开始用秘钥传输数据，此时中间人已经完全控制会话<br>

6. 有哪些可能引起前端安全的问题**?**<br>
跨站脚本XSS<br>
跨站点请求伪造CSRF<br>
iframe滥用<br>
恶意第三方库<br>

7. 网络劫持有哪几种，如何防范？<br>
DNS劫持<br>
http劫持<br>
DNS劫持现在被监管，很少发生了，http劫持可以升级https来解决<br>

## 进程与线程<br>

1. 进程与线程的概念<br>
进程代表了一个程序，线程是进程中的更小单位<br>
进程是资源分配的最小单位，线程是cpu调度的最小单位<br>

2. 进程和线程的区别<br>
进程可以看做独立应用，线程不能<br>
进程是资源分配的最小单位，线程是cpu调度的最小单位<br>
线程可以共享同一进程中的资源，进程间不可以直接共享<br>
进程切换，创建和销毁的开销比线程大<br>

3. 浏览器渲染进程的线程有哪些<br>
GUI渲染线程：<br>
负责渲染浏览器页面，解析html，css，构建dom树，cssom树，构建渲染树和绘制页面，当页面重绘回流，该线程会执行，与js引擎线程互斥<br>
JS引擎线程：<br>
负责处理js脚本，与GUI渲染线程互斥<br>
事件触发线程：<br>
属于浏览器，用来控制时间循环，当遇到setTimeout，异步请求等等，会将对应任务添加到事件触发线程中，当任务被触发时，该线程会把任务添加到待处理队列，等待js引擎处理<br>
定时器触发线程：<br>
即setInterval和setTimeout所在线程，因为js引擎是单线程，所以使用单独线程来计数，计数完毕，添加到事件队列中<br>
异步http请求线程：<br>
xhr连接后通过浏览器新开了一个请求线程，检测到状态变更时，如果有回调，会放入事件队列中，等待js引擎线程执行<br>

4. 进程之前的通信方式---了解即可<br>
5. 僵尸进程和孤儿进程是什么？---了解即可（或者不需要看）<br>
6. 死锁产生的原因？ 如果解决死锁的问题？---了解即可（或者不需要看）<br>
7. 如何实现浏览器内多个标签页之间的通信?<br>
本质上都是通过中介者模式来实现<br>
使用socket协议<br>
使用localStorage<br>
使用postMessage<br>
使用sharedWorker<br>

8. 对Service Worker的理解<br>
service worker是运行在浏览器背后的独立线程，一般可用来实现缓存。使用serviceworker，传输协议必须是https，因为涉及到请求拦截，必须使用https保证安全<br>
首先注册service worker<br>
监听install事件来缓存需要的文件<br>
下次用户访问时，通过拦截请求查询是否存在缓存，存在直接读取缓存，否则请求数据<br>

## 浏览器缓存<br>

1. 对浏览器的缓存机制的理解<br>
2. 浏览器资源缓存的位置有哪些？<br>
3. 协商缓存和强缓存的区别<br>
4. 为什么需要浏览器缓存？<br>
5. 点击刷新按钮或者按 F5、按 Ctrl+F5 （强制刷新）、地址栏回车有什么区别？<br>

## 浏览器组成<br>

1. 对浏览器的理解<br>
2. 对浏览器内核的理解<br>
3. 常见的浏览器内核比较<br>
4. 常见浏览器所用内核---了解即可<br>
5. 浏览器的主要组成部分<br>

## 浏览器渲染原理<br>

1. 浏览器的渲染过程<br>
2. 浏览器渲染优化<br>
3. 渲染过程中遇到 JS 文件如何处理？<br>
4. 什么是文档的预解析？<br>
5. CSS 如何阻塞文档解析？<br>
6. 如何优化关键渲染路径？<br>
7. 什么情况会阻塞渲染？<br>

## 浏览器本地存储<br>
1. 浏览器本地存储方式及使用场景<br>
2. Cookie有哪些字段，作用分别是什么<br>
3. Cookie、LocalStorage、SessionStorage区别<br>
4. 前端储存的⽅式有哪些？<br>
5. IndexedDB有哪些特点？---了解即可<br>

## 浏览器同源策略<br>
1. 什么是同源策略<br>
2. 如何解决跨越问题<br>
3. 正向代理和反向代理的区别---了解即可<br>
4. Nginx的概念及其工作原理---了解即可（或者不需要看）<br>

## 浏览器事件机制<br>
1. 事件是什么？事件模型？<br>
2. 如何阻止事件冒泡<br>
3. 对事件委托的理解<br>
4. 事件委托的使用场景<br>
5. 同步和异步的区别<br>
6. 对事件循环的理解<br>
7. 宏任务和微任务分别有哪些<br>
8. 什么是执行栈<br>
9. Node 中的 Event Loop 和浏览器中的有什么区别？process.nextTick 执行顺序？<br>
10. 事件触发的过程是怎样的<br>

## 浏览器垃圾回收机制---了解即可<br>

1. V8的垃圾回收机制是怎样的<br>
2. 哪些操作会造成内存泄漏？<br>